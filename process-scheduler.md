# 프로세스 스케줄러

## 장기/중기/단기 스케줄러
![image-20210517135702894](/Users/hyeon9mak/Library/Application Support/typora-user-images/image-20210517135702894.png)

### 장기 스케줄러(Long Term Scheduler)
- 어떤 프로세스를 준비 큐에 넣을 것인가?
- 작업 스케줄러라고도 부른다
- 디스크에서 하나의 프로그램을 가져와 커널에 등록하면 프로세스가 되는데,
  이 때 어떤 프로그램을 커널에 등록할지 결정
- 가~끔 호출되기 때문에 상대적으로 느린 속도가 허용된다.
- 메모리에 동시에 올라가 있는 프로세스의 수를 조절하는 역할
- 현대 운영체제는 일반적으로 장기 스케줄러를 두지 않는다.
  - 과거에는 적은 양의 메모리로 많은 프로세스들에게 할당
  - 메모리 보유량이 적어 장기 스케줄러가 이를 조절
  - 그러나 현재 운영체제는 그럴 필요가 거의 없다.

### 단기 스케줄러 (Short Term Scheduler)
- 어떤 프로세스에게 cpu를 할당할 것인가?
- CPU 스케줄러라고도 부른다
- 준비 상태의 프로세스 중 어떤 프로세스를 다음 번에 실행하게 할건지 결정
- 시분할 시스템에서 타이머 인터럽트가 발생하면 단기 스케줄러 호출
- 일반적으로 부르는 스케줄러는 단기스케줄러를 의미한다
- 미리정한 스케줄링 알고리즘에 따라 CPU를 할당할 프로세스를 결정한다
- 단기 스케줄러는 매우 빈번하게 호출되기 때문에 충분히 빨라야한다

### 중기 스케줄러(Medium Term ScheDuler)
- 메모리에 적재된 프로세스 수 관리
- 너무 많은 프로세스를 메모리에 올릴 경우 시스템 성능의 저하가 발생한다
- 프로세스당 보유하고 있는 메모리 량이 극도로 적어지게 되면
  CPU수행에 필요한 프로세스의 주소 공간조차도 메모리에 올려놓기 어려워진다.
  - 이렇게 되면 디스크 I/O가 수시로 발생하게 되어 시스템 성능 저하가 일어난다
- 이런 경우 메모리에 올라와있는 프로세스 중 일부를 통쨰로 빼앗아 디스크 스왑 영역에 저장해둔다 (SWAP-OUT)
- BLOCKED(sleep, wait) 상태에 있는 프로세스들을 우선적으로 OUT 시킨다.
  - BLOCKED 상태의 프로세스들은 당장 CPU를 획득할 가능성이 적기 때문이다.
- 그래도 문제가 해결되지 않는 경우 중기 스케줄러는 타이머 인터럽트가 바생해 준비큐로 이동한 프로세스들을 추가적으로 아웃시킨다.
- 이런 방식으로 메모리에 올라와있는 프로세스의 수를 조절한다.
- 중기 스케줄러의 등장으로 프로세스 상태에 STOPPED, SUSPENDED 가 추가되었으며, 중지 상태의 프로세스는 메모리를 통째로 빼앗겨서 디스크로 OUT 된다.
  - SUSPENDED-READY : READY 상태에 있던 프로세스가 중기 스케줄러로 인해 디스크로 OUT
  - SUSPENDED-BLOCK : BLOCK 상태에 있던 프로세스가 중기 스케줄러로 인해 디스크로 OUT
  - SUSPENDED-BLOCK 상태의 프로세스들은 BLOCK 상태해결 조건을 충족하면 SUSPENED-READY로 이동하게 된다.
